## 3.4 陣列（Array）與結構（Structure） (LLVM IR)

在 LLVM IR 中，我們可以使用陣列和結構來組織和存儲數據。

1. 陣列（Array）：
陣列是一種用於存儲相同數據類型元素的集合。在 LLVM IR 中，我們可以使用下面的語法來定義和使用陣列：
```llvm
%arr = type { i32, [10 x i32] } ; 定義了一個包含一個 i32 和一個包含 10 個 i32 的陣列的結構類型

%my_array = global %arr zeroinitializer ; 定義了一個全局陣列變量並初始化為零
```
這樣定義的 `%arr` 是一個包含了一個 `i32` 和一個 `i32[10]` 的結構類型，我們可以使用 `%my_array` 來訪問這個陣列。

在使用陣列時，我們可以使用標準的陣列索引來訪問陣列中的元素，例如 `%my_array[0]` 將獲取第一個元素， `%my_array[4]` 將獲取第五個元素。需要注意的是，LLVM IR 中的索引從 0 開始，所以 `%my_array[0]` 是第一個元素。

2. 結構（Structure）：
結構是一種用於組織不同數據類型元素的集合。在 LLVM IR 中，我們可以使用下面的語法來定義和使用結構：
```llvm
%point = type { i32, i32 } ; 定義了一個具有兩個 i32 元素的結構類型

%my_struct = global %point { i32 2, i32 3 } ; 定義了一個全局結構變量並初始化為值 2 和 3
```
這樣定義的 `%point` 是一個具有兩個 `i32` 元素的結構類型，我們可以使用 `%my_struct` 來訪問這個結構。

在使用結構時，我們可以使用結構中的元素名稱或索引來訪問結構中的元素，例如 `%my_struct.0` 或 `%my_struct.i32_0` 將獲取第一個元素， `%my_struct.1` 或 `%my_struct.i32_1` 將獲取第二個元素。

需要注意的是，結構中的元素按照定義的順序進行訪問，因此順序很重要。

總結起來，陣列和結構提供了在 LLVM IR 中組織和訪問數據的方法。你可以使用陣列來存儲相同數據類型的元素集合，使用結構來組織不同數據類型的元素集合。