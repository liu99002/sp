# ELF 目的檔格式

參考 

* [Linux ELF 二進位檔案入門：搞懂兼分析](https://security-onigiri.github.io/2018/03/08/the-101-of-elf-binaries-on-linux-understanding-and-analysis.html)
* http://labmaster.mi.infn.it/Laboratorio2/CompilerCD/clang/l1/ELF.html

## run

```
$ make
gcc elf.c elfdump.c -o elfdump
./elfdump oshello.elf
ELF:
  type:2        (1=ELF32, 2=ELF64)
  machine:243   (40=ARM, 50=IA_64, 243=RISCV)
  version:1
  flags:0
  entry:0x80000000

Section Headers:(type: 1=PROGBITS, 2=SYMTAB, 3=STRTAB)
  [Nr] Name                 Type            Address          Off    Size   ES Flg Lk Inf Al
                            0               0000000000000000 000000 000000 00   0  0   0  0
       .text                1               0000000080000000 001000 0080e4 00   6  0   0  4
       .rodata              1               00000000800080e4 0090e4 00000b 00   2  0   0  4
       .data                1               00000000800080ef 0090ef 000f11 00   3  0   0  1
       .riscv.attributes    70000003        0000000000000000 00a000 000026 00   0  0   0  1
       .comment             1               0000000000000000 00a026 000028 01  30  0   0  1
       .symtab              2               0000000000000000 00a050 0000f0 10   0  7  11  4
       .strtab              3               0000000000000000 00a140 00006a 00   0  0   0  1
       .shstrtab            3               0000000000000000 00a1aa 00004a 00   0  0   0  1

Program Headers: (type: 1=LOAD, 2=DYNAMIC, ... SHLIB=5 ...)
  Type           Offset   VirtAddr           PhysAddr           FileSiz  MemSiz   Flg Align
  1              0x001000 0x0000000080000000 0x0000000080000000 0x0080ef 0x0080ef   5 0x1000
  1              0x0090ef 0x00000000800080ef 0x00000000800080ef 0x000f11 0x000f11   6 0x1000
  1              0x00a000 0x0000000000000000 0x0000000000000000 0x000000 0x000000   0 0x1000

string table:
 .symtab .strtab .shstrtab .text .rodata .data .riscv.attributes .comment 



.text
f3 22 40 f1 93 92 a2 00 17 21 00 00 13 01 01 02 33 01 51 00 73 25 40 f1 63 14 05 00 6f 80 80 0a 73 00 50 10 6f f0 df ff 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ...

.rodata
48 65 6c 6c 6f 20 4f 53 21 0a 00 

.data
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ...

.riscv.attributes
41 25 00 00 00 72 69 73 63 76 00 01 1b 00 00 00 04 10 05 72 76 33 32 69 32 70 30 5f 6d 32 70 30 5f 61 32 70 30 00 

.comment
47 43 43 3a 20 28 53 69 46 69 76 65 20 47 43 43 20 38 2e 33 2e 30 2d 32 30 32 30 2e 30 34 2e 31 29 20 38 2e 33 2e 30 00        

.symtab
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 00 00 00 00 03 00 01 00 00 00 00 00 e4 80 00 80 00 00 00 00 03 00 02 00 00 00 00 00 ef 80 00 80 00 00 00 00 03 00 03 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 04 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 05 00 01 00 00 00 00 00 00 00 00 00 00 00 04 00 f1 ff 2d 00 00 00 00 20 00 00 00 00 00 00 00 00 f1 
ff 38 00 00 00 28 00 00 80 00 00 00 00 00 00 01 00 3f 00 00 00 20 00 00 80 00 00 00 00 00 00 01 00 44 00 00 00 00 00 00 00 00 00 00 00 04 00 f1 ff 49 00 00 00 28 80 00 80 4c 00 00 00 12 00 01 00 52 00 00 00 74 80 00 80 50 ...

.strtab
00 43 3a 5c 55 73 65 72 73 5c 75 73 65 72 5c 41 70 70 44 61 74 61 5c 4c 6f 63 61 6c 5c 54 65 6d 70 5c 63 63 4e 70 77 38 4f 62 2e 6f 00 53 54 41 43 4b 5f 53 49 5a 45 00 73 74 61 63 6b 73 00 70 61 72 6b 00 6f 73 2e 63 00 6c 69 62 5f 70 75 74 63 00 6c 69 62 5f 70 75 74 73 00 6f 73 5f 6d 61 69 6e 00 5f 73 74 61 72 74 00 

.shstrtab
00 2e 73 79 6d 74 61 62 00 2e 73 74 72 74 61 62 00 2e 73 68 73 74 72 74 61 62 00 2e 74 65 78 74 00 2e 72 6f 64 61 74 61 00 2e 64 61 74 61 00 2e 72 69 73 63 76 2e 61 74 74 72 69 62 75 74 65 73 00 2e 63 6f 6d 6d 65 6e 74 00 

```
